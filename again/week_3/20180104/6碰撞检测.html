<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
	#div1{ width: 100px; height: 100px; background: red; position: absolute; }
	#div2{ width: 200px; height: 200px; background: yellow; margin: 200px; }
	</style>
</head>
<body>
	<div id="div1"></div>
	<div id="div2"></div>
	<script>

	var div1 = document.getElementById('div1');
	var div2 = document.getElementById('div2');

	var disX = 0;
	var disY = 0;

	div1.onmousedown = function(ev){
		var This = this;
		disX = ev.pageX - this.offsetLeft;
		disY = ev.pageY - this.offsetTop;

		document.onmousemove = function(ev){
			This.style.left = ev.pageX - disX + 'px';
			This.style.top = ev.pageY - disY + 'px';

			var L1 = div1.offsetLeft;
			var R1 = div1.offsetLeft + div1.offsetWidth;
			var T1 = div1.offsetTop;
			var B1 = div1.offsetTop + div1.offsetHeight;

			var L2 = div2.offsetLeft;
			var R2 = div2.offsetLeft + div2.offsetWidth;
			var T2 = div2.offsetTop;
			var B2 = div2.offsetTop + div2.offsetHeight;

			if( R1 < L2 || L1 > R2 || B1 < T2 || T1 > B2 ){
				div2.style.background = 'yellow';
			}
			else{
				div2.style.background = 'blue';
			}	


		};
		document.onmouseup = function(){
			document.onmousemove = null;
			document.onmouseup = null;
		};
		return false;
	};	

	</script>
</body>
</html>