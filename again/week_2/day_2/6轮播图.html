<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
	*{ margin: 0; padding:0; }
	li{ list-style: none; }
	img{ display: block; }
	#main{ width: 470px; height: 150px; margin: 20px auto; overflow: hidden; position: relative;}
	#list{ width: 9999px; position: absolute; left: 0px; top: 0; transition:1s;}
	#list li{ float:left; }
	#btn{ text-align: center; position: absolute; width: 100%; bottom: 10px; z-index: 10;}
	#btn li{ display: inline-block; width: 20px; height: 20px; border-radius: 50%; background: white; border:1px black solid;}
	#btn li.active{ background:red; }
	</style>
</head>
<body>
	<div id="main">
		<ul id="list">
			<li><img src="img/1.jpg"></li>
			<li><img src="img/2.jpg"></li>
			<li><img src="img/3.jpg"></li>
			<li><img src="img/4.jpg"></li>
			<li><img src="img/5.jpg"></li>
		</ul>
		<ol id="btn">
			<li class="active"></li>
			<li></li>
			<li></li>
			<li></li>
			<li></li>
		</ol>
	</div>
	<script>
	var main = document.getElementById('main');
	var list = document.getElementById('list');
	var listLi = list.getElementsByTagName('li');	
	var btn = document.getElementById('btn');
	var btnLi = btn.getElementsByTagName('li');	
	var num = 0;
	var timer;

	for(var i=0;i<btnLi.length;i++){

		btnLi[i].index = i;

		btnLi[i].onclick = function(){
			for(var i=0;i<btnLi.length;i++){
				btnLi[i].className = '';
			}
			this.className = 'active';
			list.style.left = - this.index * 470 + 'px';
			num = this.index;
		};
	}

	main.onmouseover = function(){
		clearInterval(timer);
	};
	main.onmouseout = function(){
		timer = setInterval(run,2000);
	};

	timer = setInterval(run,2000);

	function run(){
		for(var i=0;i<btnLi.length;i++){
			btnLi[i].className = '';
		}
		if(num == btnLi.length-1){
			num = 0;
		}
		else{
			num++;	
		}
		btnLi[num].className = 'active';
		list.style.left = - num * 470 + 'px';
	}

	</script>
</body>
</html>