<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>模拟短信发送</title>
<style>
#iPhone { width:256px; height:536px; background:url(img/iPhone.png) no-repeat; margin:0 auto; position:relative; }
#content { width:206px; height:316px; position:absolute; top:78px; left:21px; padding:10px 0 10px 10px; overflow:auto; }
#qq { position:absolute; left:28px; bottom:86px; }
#message { padding:0; margin:0; width:122px; height:21px; padding:0 2px; line-height:20px; overflow:hidden; outline:none; position:absolute; left:61px; bottom:86px; font-size:12px; font-family:'微软雅黑'; }
a { width:42px; height:24px; position:absolute; right:24px; bottom:86px; }
p { margin:0 0 5px; font-size:12px; font-family:'微软雅黑'; clear:both; position:relative; padding:4px; }
.color1 { background:#e7e5eb; color:#252329; margin-right:40px; float:left; left:30px; }
.color2 { background:#2bc71c; color:#f5feef; margin-right:30px; float:right; }
p img { position:absolute; top:0px; }
.color1 img { left:-28px; }
.color2 img { right:-28px; }
</style>
</head>

<body>

<div id="iPhone">
	<div id="content">
  	<!-- <p class="color1"><img src="img/qq1.gif" />说：早上去哪了？</p>
  	<p class="color2"><img src="img/qq2.gif" />说：我去吃饭了~</p>
  	<p class="color1"><img src="img/qq1.gif" />说：早上去哪了？</p>  -->
    </div>
    <img id="qq" src="img/qq1.gif" />
    <div id="message" contenteditable="true"></div>
    <a id="btn" href="javascript:;"></a>
</div>
<script>

var qq = document.getElementById('qq');
var btn = document.getElementById('btn');
var content = document.getElementById('content');
var message = document.getElementById('message');

var flag = false;

qq.onclick = function(){
	if(flag){
		this.src = 'img/qq1.gif';
	}
	else{
		this.src = 'img/qq2.gif';
	}
	flag = !flag;
};

btn.onclick = function(){
	var val = message.innerHTML;
	if(flag){
		content.innerHTML += '<p class="color2"><img src="img/qq2.gif" />'+ val +'</p>';
	}
	else{
		content.innerHTML += '<p class="color1"><img src="img/qq1.gif" />'+ val +'</p>';
	}
	
};

</script>

</body>
</html>
